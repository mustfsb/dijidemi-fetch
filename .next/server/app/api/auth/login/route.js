"use strict";(()=>{var e={};e.id=873,e.ids=[873],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7618:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>l,originalPathname:()=>g,patchFetch:()=>f,requestAsyncStorage:()=>p,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>m});var o={};r.r(o),r.d(o,{POST:()=>u});var a=r(5419),s=r(9108),i=r(9678),n=r(8070);async function u(e){try{let{username:t,password:r}=await e.json();if(!t||!r)return n.Z.json({error:"Username and password are required"},{status:400});let o=`https://www.dijidemi.com/Login/UserLogin?vs=1395.0022726223199&userName=${encodeURIComponent(t)}&password=${encodeURIComponent(r)}&fromCms=0&rememberMe=true`,a=await fetch(o,{method:"GET",headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36",Accept:"*/*","X-Requested-With":"XMLHttpRequest",Referer:"https://www.dijidemi.com/Login"}});if(!a.ok)return n.Z.json({error:"Login failed upstream"},{status:a.status});let s=await a.json(),i=a.headers.get("set-cookie"),u=n.Z.json({success:!0,data:s});return i&&(a.headers.getSetCookie?a.headers.getSetCookie():[a.headers.get("set-cookie")]).forEach(e=>{if(e){let[t,r]=e.split(";")[0].split("=");t&&r&&u.cookies.set(t.trim(),r.trim(),{httpOnly:!0,path:"/",secure:!0,sameSite:"lax"})}}),u}catch(e){return n.Z.json({error:e instanceof Error?e.message:"Unknown error"},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/auth/login/route",pathname:"/api/auth/login",filename:"route",bundlePath:"app/api/auth/login/route"},resolvedPagePath:"/Users/mustafa/Documents/GitHub/dijidemi-fetch/app/api/auth/login/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:p,staticGenerationAsyncStorage:c,serverHooks:h,headerHooks:l,staticGenerationBailout:m}=d,g="/api/auth/login/route";function f(){return(0,i.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:c})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[638,206],()=>r(7618));module.exports=o})();